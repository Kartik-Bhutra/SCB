CREATE DATABASE IF NOT EXISTS scb;

USE scb;

CREATE TABLE IF NOT EXISTS admins(
  userId CHAR(8) PRIMARY KEY,
  passHash CHAR(97) NOT NULL
);

INSERT IGNORE INTO admins VALUE(
  '00bankai',
  '$argon2id$v=19$m=65536,t=3,p=4$gsvk4X+0pHCGpbKdyEEOwQ$Nn4Ou/DFPKbJMZ/ibG6T+PxZ1LDpdZCQ8oeJJrXd4EE'
);

CREATE TABLE IF NOT EXISTS users(
  id INT UNSIGNED  PRIMARY KEY AUTO_INCREMENT,
  name VARCHAR(30) NOT NULL,
  mobNoEn VARBINARY(38) NOT NULL,
  mobNoHs VARBINARY(32) UNIQUE NOT NULL,
  type SMALLINT default 0
);

CREATE TABLE IF NOT EXISTS blocks(
  id INT UNSIGNED  PRIMARY KEY AUTO_INCREMENT,
  mobNoEn VARBINARY(38) NOT NULL,
  mobNoHs VARBINARY(32) UNIQUE NOT NULL,
  type SMALLINT default 0
);


CREATE TABLE IF NOT EXISTS reports(
  mobNoEn VARBINARY(38) NOT NULL,
  mobNoHs VARBINARY(32) NOT NULL,
  type SMALLINT default 0,
  repBy VARBINARY(38) NOT NULL REFERENCES users(mobNoEn)
);